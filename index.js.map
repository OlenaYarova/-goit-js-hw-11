{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst api_key = \"51059240-278fa1e6f61101335ccd91301\";\n\nexport function getImagesByQuery(query) {\n    return axios\n        .get('https://pixabay.com/api/', {\n            params: {\n                key: api_key,\n                q: query,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: true,\n            }\n        })\n\n        .then(response => {\n            return response.data;\n        })\n        // console.log(response);\n        // list.innerHTML = createGallery(response.data.hits)\n        .catch((error => {\n            console.error(error);\n            throw error;\n        }));\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\"); \n\nlet gallery1 = new SimpleLightbox('.gallery a', { \n      captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n    captionDelay: 250,\n});\n\nexport function createGallery(arr) {\n    \n    const markup = arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class = \"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\"\n             alt=\"${tags}\"\n              width=\"360\"\n              height = \"200\"\n              loading=\"lazy\" />\n               <div class=\"info\">\n          <p class =\"gallery-text\"> Likes: ${likes}</p>\n          <p class=\"gallery-text\">Views: ${views}</p>\n          <p class=\"gallery-text\">Comments: ${comments}</p>\n          <p class=\"gallery-text\">Downloads:${downloads}</p>\n        </div>\n           </a>\n        </li>\n    `).join(\"\");\n\n\n\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    gallery1.refresh();\n}\n\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.add(\"active\");\n}\n\nexport function hideLoader() {\n    loader.classList.remove(\"active\");\n   \n}","import { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchImage = document.querySelector(\".form\");\nconst userRequest = searchImage.querySelector('input[name=\"search-text\"]');\n\n\nsearchImage.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n    const query = userRequest.value.trim();\n    \n    if (!query) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search term!\",\n            close: false,\n            position: \"topRight\",\n        });\n        return;\n    }\n    \n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n        .then((data) => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    timeout: 3000,\n                    close: false,\n                    position: \"topRight\",\n                });\n                return;\n            }\n\n            createGallery(data.hits);\n        })\n        .catch((error) => {\n            console.error(error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n}"],"names":["api_key","getImagesByQuery","query","axios","response","error","gallery","loader","gallery1","SimpleLightbox","createGallery","arr","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchImage","userRequest","handlerSubmit","event","iziToast","data"],"mappings":"owBACA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EACF,IAAI,2BAA4B,CAC7B,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACb,CAAS,EAEA,KAAKE,GACKA,EAAS,IACnB,EAGA,MAAOC,GAAS,CACb,cAAQ,MAAMA,CAAK,EACbA,CAClB,EACA,CCrBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC1C,SAAU,GACd,aAAc,MACd,gBAAiB,SACf,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAK,CAE/B,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,mBAEtFL,CAAa;AAAA,wBACRD,CAAY;AAAA,oBAChBE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKqBC,CAAK;AAAA,2CACPC,CAAK;AAAA,8CACFC,CAAQ;AAAA,8CACRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAIlD,EAAE,KAAK,EAAE,EAIVb,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CAGO,SAASY,GAAe,CAC3Bd,EAAQ,UAAY,EACxB,CAEO,SAASe,GAAa,CACzBd,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEO,SAASe,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CAEpC,CC5CA,MAAMgB,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAcD,EAAY,cAAc,2BAA2B,EAGzEA,EAAY,iBAAiB,SAAUE,CAAa,EAEpD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMxB,EAAQsB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACtB,EAAO,CACRyB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,MAAO,GACP,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,IACAC,IAEApB,EAAiBC,CAAK,EACjB,KAAM0B,GAAS,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,2EACT,QAAS,IACT,MAAO,GACP,SAAU,UAC9B,CAAiB,EACD,MACH,CAEDjB,EAAckB,EAAK,IAAI,CACnC,CAAS,EACA,MAAOvB,GAAU,CACd,QAAQ,MAAMA,CAAK,CAC/B,CAAS,EACA,QAAQ,IAAM,CACXiB,GACZ,CAAS,CACT"}